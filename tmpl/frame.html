<html lang="en">
<head>
    <title>The Webpage</title>

    <link rel="stylesheet" href="/static/bulma.min.css" type="text/css"/>
    <link rel="stylesheet" href="/static/main.css?cb=20201114" type="text/css"/>

    <script>
        (function (global, factory) {
            typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :
                typeof define === 'function' && define.amd ? define(factory) :
                    (global = global || self, global.shave = factory());
        }(this, (function () { 'use strict';

            function shave(target, maxHeight) {
                var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};
                if (typeof maxHeight === 'undefined' || isNaN(maxHeight)) throw Error('maxHeight is required');
                var els = typeof target === 'string' ? document.querySelectorAll(target) : target;
                if (!els) return;
                var character = opts.character || 'â€¦';
                var classname = opts.classname || 'js-shave';
                var spaces = typeof opts.spaces === 'boolean' ? opts.spaces : true;
                var charHtml = "<span class=\"js-shave-char\">".concat(character, "</span>");
                if (!('length' in els)) els = [els];

                for (var i = 0; i < els.length; i += 1) {
                    var el = els[i];
                    var styles = el.style;
                    var span = el.querySelector(".".concat(classname));
                    var textProp = el.textContent === undefined ? 'innerText' : 'textContent'; // If element text has already been shaved

                    if (span) {
                        // Remove the ellipsis to recapture the original text
                        el.removeChild(el.querySelector('.js-shave-char'));
                        el[textProp] = el[textProp]; // eslint-disable-line
                        // nuke span, recombine text
                    }

                    var fullText = el[textProp];
                    var words = spaces ? fullText.split(' ') : fullText; // If 0 or 1 words, we're done

                    if (words.length < 2) continue; // Temporarily remove any CSS height for text height calculation

                    var heightStyle = styles.height;
                    styles.height = 'auto';
                    var maxHeightStyle = styles.maxHeight;
                    styles.maxHeight = 'none'; // If already short enough, we're done

                    if (el.offsetHeight <= maxHeight) {
                        styles.height = heightStyle;
                        styles.maxHeight = maxHeightStyle;
                        continue;
                    } // Binary search for number of words which can fit in allotted height


                    var max = words.length - 1;
                    var min = 0;
                    var pivot = void 0;

                    while (min < max) {
                        pivot = min + max + 1 >> 1; // eslint-disable-line no-bitwise

                        el[textProp] = spaces ? words.slice(0, pivot).join(' ') : words.slice(0, pivot);
                        el.insertAdjacentHTML('beforeend', charHtml);
                        if (el.offsetHeight > maxHeight) max = pivot - 1;else min = pivot;
                    }

                    el[textProp] = spaces ? words.slice(0, max).join(' ') : words.slice(0, max);
                    el.insertAdjacentHTML('beforeend', charHtml);
                    var diff = spaces ? " ".concat(words.slice(max).join(' ')) : words.slice(max);
                    var shavedText = document.createTextNode(diff);
                    var elWithShavedText = document.createElement('span');
                    elWithShavedText.classList.add(classname);
                    elWithShavedText.style.display = 'none';
                    elWithShavedText.appendChild(shavedText);
                    el.insertAdjacentElement('beforeend', elWithShavedText);
                    styles.height = heightStyle;
                    styles.maxHeight = maxHeightStyle;
                }
            }

            return shave;

        })));
    </script>
    <script>
        const mode = localStorage.getItem("color-mode")
        if (window.matchMedia("(prefers-color-scheme: dark)").matches && !localStorage.getItem("color-mode") ) {
            document.documentElement.setAttribute("color-mode", "dark");
        } else {
            document.documentElement.setAttribute("color-mode", mode);
        }
    </script>
    <script>
        document.addEventListener("DOMContentLoaded", function() {
            var lazyloadImages;

                lazyloadImages = document.querySelectorAll(".lazy");
                var imageObserver = new IntersectionObserver(function(entries, observer) {
                    entries.forEach(function(entry) {
                        if (entry.isIntersecting) {
                            var image = entry.target;
                            image.src = image.dataset.src;
                            image.classList.remove("lazy");
                            imageObserver.unobserve(image);
                        }
                    });
                });

                lazyloadImages.forEach(function(image) {
                    imageObserver.observe(image);
                });
        })
    </script>
    <script>
        var trimArticle = function(id) {
            var el = document.getElementById(id)
            if (el == null) {
                return
            }
            var id = el.id
            var style = getComputedStyle(el)
            if (style.maxHeight === "none") {
                return
            }
            var height = style.maxHeight.slice(0, -2)
            var link = document.getElementById(id+"-link")
            var linkStyle = getComputedStyle(link)
            height = height - (Number(link.offsetHeight) + Number(linkStyle.marginTop.slice(0, -2)) + Number(linkStyle.marginBottom.slice(0,-2)))
            height = height - Number(style.marginTop.slice(0,-2))
            height = height - Number(style.marginBottom.slice(0,-2))
            height -= 20
            shave("#"+id+"-text", height)
        }
    </script>
</head>
<body>
<svg style="display: none;">
    <symbol viewBox="0 0 24 24" id="moon">
        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="sun">
        <circle cx="12" cy="12" r="5"></circle>
        <line x1="12" y1="1" x2="12" y2="3"></line>
        <line x1="12" y1="21" x2="12" y2="23"></line>
        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
        <line x1="1" y1="12" x2="3" y2="12"></line>
        <line x1="21" y1="12" x2="23" y2="12"></line>
        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </symbol>
</svg>
<div class="container is-fluid" style="max-width: 1200px;">
    <div class="bar level" style="margin-top:0.5rem;">
        {{range .Categories}}
            <div class="level-item has-text-centered has-text-weight-bold is-uppercase" >
                <a href="/?cat={{.}}"><p style="font-size: 0.7rem">{{.}}</p></a>
            </div>
        {{end}}
        <button
                class="color-mode__btn light--hidden"
                aria-label="Toggle light mode"
        >
            <svg aria-hidden="true">
                <title>Light Mode</title>
                <use href="#sun"></use>
            </svg>
        </button>
        <button
                class="color-mode__btn dark--hidden"
                aria-label="Toggle dark mode"
        >
            <svg aria-hidden="true">
                <title>Dark Mode</title>
                <use href="#moon"></use>
            </svg>
        </button>
    </div>
    <nav class="level" style="overflow: hidden;">
        <div class="level-left">
            <div class="sidebox-left level-item is-hidden-touch">
                <p>"RSS Feeds for the 20th century"</p>
            </div>
        </div>
        <div class="level-item has-text-centered">
            <a href="/"><h1>The Webpage</h1></a>
        </div>
        <div class="level-right">
            <div class="sidebox-right level-item is-hidden-touch">
                <p>{{ .Name }}</p>
            </div>
        </div>
    </nav>
    <div class="bar level">
        <div class="level-left">
            <div class="level-item" onClick="microfiche()">
                {{.ID}}
            </div>
        </div>
        <div class="level-left">
            <div class="level-item" onClick="dracula()">
                {{.Date}}
            </div>
        </div>
    </div>
    {{ template "content" . }}
</div>
</body>
<script>
    if (window.CSS && CSS.supports("color", "var(--fg)")) {
        var toggleColorMode = function toggleColorMode(e) {
// Switch to Light Mode
            if (e.currentTarget.classList.contains("light--hidden")) {
// Sets the custom html attribute
                document.documentElement.setAttribute("color-mode", "light"); // Sets the user's preference in local storage

                localStorage.setItem("color-mode", "light");
                return;
            }
            /* Switch to Dark Mode
            Sets the custom html attribute */
            document.documentElement.setAttribute("color-mode", "dark"); // Sets the user's preference in local storage

            localStorage.setItem("color-mode", "dark");
        };

        var microfiche = function() {
            document.documentElement.setAttribute("color-mode", "microfiche"); // Sets the user's preference in local storage

            localStorage.setItem("color-mode", "microfiche");
            return;
        }

        var dracula = function() {
            document.documentElement.setAttribute("color-mode", "dracula"); // Sets the user's preference in local storage

            localStorage.setItem("color-mode", "dracula");
            return;
        }

        var toggleColorButtons = document.querySelectorAll(".color-mode__btn"); // Set up event listeners

        toggleColorButtons.forEach(function(btn) {
            btn.addEventListener("click", toggleColorMode);
        });
    } else {
// If the feature isn't supported, then we hide the toggle buttons
        var btnContainer = document.querySelector(".color-mode__header");
        btnContainer.style.display = "none";
    }
</script>
</html>
